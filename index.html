<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SkuldKoll</title>
  <meta name="theme-color" content="#111827" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="icons/icon-192.png" sizes="192x192" />
</head>
<body>
  <header class="app-header">
    <div class="branding">
      <div class="logo">ğŸ’¸</div>
      <div>
        <h1>SkuldKoll</h1>
        <p>HÃ¥ll koll pÃ¥ vem som Ã¤r skyldig vad â€“ snabbt & snyggt</p>
      </div>
    </div>
    <div class="actions">
      <button id="toggle-theme" title="Byt tema">ğŸŒ—</button>
      <button id="install-btn" class="primary" hidden>Installera</button>
      <button id="open-settings" title="InstÃ¤llningar">âš™ï¸</button>
      <span id="offline-badge" class="badge" hidden>Offline</span>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>Ny skuld</h2>
      <form id="debt-form">
        <div class="grid">
          <label>Person<input type="text" id="debtor" required placeholder="Namn eller kontakt" /></label>
          <label>Belopp (kr)<input type="number" id="amount" step="0.01" min="0" required placeholder="0.00" /></label>
          <label>Datum<input type="date" id="date" required /></label>
          <label>Tid<input type="time" id="time" required /></label>
          <label>Kategori
            <select id="category">
              <option>Annat</option><option>Lunch/Fika</option><option>BrÃ¤nsle</option><option>Verktyg/LÃ¥n</option><option>Hyra</option>
            </select>
          </label>
          <label>Plats<input type="text" id="place" placeholder="Ex: Hemma, PÃ¥ jobbet, ICA..." /></label>
          <label class="full">Anteckning<textarea id="note" rows="2" placeholder="Kort beskrivning (valfritt)"></textarea></label>
        </div>
        <div class="form-actions">
          <label class="switch"><input type="checkbox" id="status" /><span>Markera som betald</span></label>
          <div class="right"><button type="reset" class="ghost">Rensa</button><button type="submit" class="primary">LÃ¤gg till</button></div>
        </div>
      </form>
    </section>

    <section class="card">
      <div class="toolbar">
        <div class="filters">
          <input type="search" id="search" placeholder="SÃ¶k (person, plats, anteckning)" />
          <select id="filter-status"><option value="all">Alla</option><option value="unpaid">Obetalda</option><option value="paid">Betalda</option></select>
          <select id="filter-category"><option value="all">Alla kategorier</option><option>Annat</option><option>Lunch/Fika</option><option>BrÃ¤nsle</option><option>Verktyg/LÃ¥n</option><option>Hyra</option></select>
          <select id="sort-by">
            <option value="date_desc">Senaste datum fÃ¶rst</option>
            <option value="date_asc">Tidigaste datum fÃ¶rst</option>
            <option value="amount_desc">HÃ¶gst belopp fÃ¶rst</option>
            <option value="amount_asc">LÃ¤gst belopp fÃ¶rst</option>
            <option value="name_asc">Namn Aâ€“Ã–</option>
            <option value="name_desc">Namn Ã–â€“A</option>
          </select>
        </div>
        <div class="export-buttons">
          <button id="export-json">Exportera JSON</button>
          <button id="export-csv">Exportera CSV</button>
          <label class="import"><input type="file" id="import-file" accept=".json,.csv" hidden /><span class="button">Importera</span></label>
        </div>
      </div>

      <div id="summary" class="summary">
        <div><strong>Totalt obetalt:</strong> <span id="total-unpaid">â€“</span></div>
        <div><strong>Totalt betalt:</strong> <span id="total-paid">â€“</span></div>
        <div><strong>Summa:</strong> <span id="total-all">â€“</span></div>
      </div>

      <div id="people" class="people card-sub">
        <h3>Per person</h3>
        <ul id="people-list" class="chips"></ul>
      </div>

      <ul id="debt-list" class="list"></ul>
    </section>
  </main>

  <footer class="app-footer"><small>Byggd som PWA. Data lagras lokalt i din webblÃ¤sare.</small></footer>

  <template id="debt-item-template">
    <li class="item"><div class="item-main"><div class="title"><span class="name"></span><span class="amount"></span></div><div class="meta"><span class="status badge"></span><span class="category badge"></span><span class="datetime"></span><span class="place"></span><span class="note"></span></div></div><div class="item-actions"><button class="mark-paid">Markera betald</button><button class="edit ghost">Redigera</button><button class="delete danger">Ta bort</button></div></li>
  </template>

  <dialog id="settings-dialog">
    <form method="dialog" class="settings">
      <h2>InstÃ¤llningar</h2>
      <section><h3>PÃ¥minnelser</h3><label class="row"><input type="checkbox" id="reminders-enabled" /><span>Aktivera pÃ¥minnelser fÃ¶r obetalda skulder</span></label><label>Dagar innan pÃ¥minnelse<input type="number" id="reminder-days" min="1" max="365" value="14" /></label><button id="request-permission" type="button" class="ghost">TillÃ¥t notiser</button></section>
      <section><h3>Data</h3><button id="clear-data" type="button" class="danger">Rensa all lokal data</button></section>
      <div class="right"><button value="cancel" class="ghost">StÃ¤ng</button></div>
    </form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
